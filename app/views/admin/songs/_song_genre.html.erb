<div class="my-5">
  <%= form.label :genre, class: "block text-sm font-medium text-gray-700" %>
  <div class="mt-2 flex space-x-2">
    <label class="inline-flex items-center">
      <%= form.radio_button :genre, 1, class: "hidden" %>
      <span class="block shadow rounded-md border border-gray-400 outline-none px-3 py-2 cursor-pointer bg-gray-100 hover:bg-gray-200 transition-all duration-300" data-genre="1">
        Pop
      </span>
    </label>
    <label class="inline-flex items-center">
      <%= form.radio_button :genre, 2, class: "hidden" %>
      <span class="block shadow rounded-md border border-gray-400 outline-none px-3 py-2 cursor-pointer bg-gray-100 hover:bg-gray-200 transition-all duration-300" data-genre="2">
        Rock
      </span>
    </label>
    <label class="inline-flex items-center">
      <%= form.radio_button :genre, 3, class: "hidden" %>
      <span class="block shadow rounded-md border border-gray-400 outline-none px-3 py-2 cursor-pointer bg-gray-100 hover:bg-gray-200 transition-all duration-300" data-genre="3">
        Classic
      </span>
    </label>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const genreButtons = document.querySelectorAll("[data-genre]");
    genreButtons.forEach(button => {
      button.addEventListener("click", function() {
        const genre = this.getAttribute("data-genre");
        document.querySelector(`input[name='resource[genre]'][value='${genre}']`).checked = true;
        genreButtons.forEach(btn => btn.classList.remove("bg-blue-500", "text-white"));
        this.classList.add("bg-blue-500", "text-white");
      });
    });
  });
</script>
